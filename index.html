<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Articleâ€¯Hub â€” Fresh Tech & Productivity Reads</title>

  <!-- Inter Tight font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;600;700&display=swap" rel="stylesheet">

  <meta name="description" content="Article Hub delivers a real-time stream of concise, high-quality articles on technology, productivity, and creative ideas.">
  <meta name="keywords" content="articles, blog, tech news, productivity tips, firebase, realtime database">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://www.example.com/">
  <meta property="og:type"        content="website">
  <meta property="og:url"         content="https://www.example.com/">
  <meta property="og:title"       content="Article Hub">
  <meta property="og:description" content="Read the latest articles on tech, productivity and more â€” updated in realâ€‘time.">
  <meta property="og:image"       content="https://www.example.com/og-cover.jpg">
  <meta name="twitter:card"        content="summary_large_image">
  <meta name="twitter:title"       content="Article Hub">
  <meta name="twitter:description" content="Fresh tech & productivity reads, updated live.">
  <meta name="twitter:image"       content="https://www.example.com/og-cover.jpg">

  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "url":"https://www.example.com/",
    "name":"Article Hub",
    "potentialAction":{
      "@type":"SearchAction",
      "target":"https://www.example.com/?q={search_term_string}",
      "query-input":"required name=search_term_string"
    }
  }
  </script>

  <!-- Style -->
  <style>
  :root {
    --clr-bg:        linear-gradient(120deg, #f8fafc 0%, #e0e7ff 100%);
    --clr-surface:   #fff;
    --clr-onSurf:    #23234a;
    --clr-muted:     #7c82a1;
    --clr-primary:   #6366f1;
    --radius-nav:    18px;
    --border-color:  #e0e7ef;
    --shadow-lg:     0 4px 24px 0 rgba(99,102,241,.08);
    --shadow-sm:     0 1px 6px 0 rgba(99,102,241,.05);
  }
  @media(prefers-color-scheme:dark){
    :root {
      --clr-bg:      linear-gradient(120deg, #18181b 0%, #312e81 100%);
      --clr-surface: #23234a;
      --clr-onSurf:  #f3f4f6;
      --clr-muted:   #a5b4fc;
      --clr-primary: #a5b4fc;
      --border-color:#312e81;
      --shadow-lg:   0 4px 24px 0 rgba(99,102,241,.18);
      --shadow-sm:   0 1px 6px 0 rgba(99,102,241,.12);
    }
  }

  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    font: 16px/1.7 "Inter Tight", system-ui, sans-serif;
    background: var(--clr-bg);
    color: var(--clr-onSurf);
    min-height: 100vh;
    transition: background .5s;
    letter-spacing: 0.01em;
  }

  /* Navbar */
  .navbar {
    position: sticky;
    top: 1rem;
    z-index: 100;
    margin: 0 2rem;
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--clr-surface);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-nav);
    box-shadow: var(--shadow-lg);
  }
  .navbar h1 {
    font-size: 1.5rem;
    color: var(--clr-primary);
    font-weight: 700;
    letter-spacing: -0.02em;
  }
  .navbar a {
    text-decoration: none;
    font-weight: 600;
    padding: .4rem 1rem;
    border-radius: 8px;
    color: var(--clr-muted);
    background: transparent;
    transition: background .15s, color .15s;
  }
  .navbar a.active,
  .navbar a:hover {
    color: #fff;
    background: var(--clr-primary);
  }

  /* Layout */
  .layout {
    max-width: 1200px;
    margin: 3rem auto 2rem;
    padding: 0 1.5rem;
    display: grid;
    grid-template-columns: 2.5fr 1fr;
    gap: 2rem;
  }
  @media(max-width:900px){
    .layout { grid-template-columns: 1fr; }
    .title-map { display: none; }
  }

  /* Title map sidebar */
  .title-map {
    position: sticky;
    top: calc(var(--radius-nav) + 2rem);
    max-height: 80vh;
    overflow-y: auto;
    padding: 1.2rem 1rem 1rem 1rem;
    background: var(--clr-surface);
    border: 1px solid var(--border-color);
    border-radius: 14px;
    box-shadow: var(--shadow-sm);
  }
  .title-map h2 {
    font-size: 1.08rem;
    margin-bottom: .8rem;
    color: var(--clr-primary);
    font-weight: 700;
    text-align: center;
  }
  .title-map a {
    display: block;
    margin-bottom: .5rem;
    text-decoration: none;
    color: var(--clr-muted);
    font-size: 1rem;
    padding: .3rem .6rem;
    border-radius: 6px;
    transition: background .12s, color .12s;
    font-weight: 500;
  }
  .title-map a:hover {
    color: var(--clr-primary);
    background: rgba(99,102,241,.07);
  }
  .title-map-list {
    position: relative;
    margin-top: 1rem;
    padding-left: 24px;
  }
  .title-map-dot {
    position: relative;
    display: flex;
    align-items: center;
    margin-bottom: 1.2rem;
    cursor: pointer;
    z-index: 1;
  }
  .title-map-dot .dot {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: var(--clr-muted);
    border: 2px solid var(--clr-surface);
    box-shadow: 0 0 0 2px var(--clr-primary);
    margin-right: 10px;
    transition: background .2s, box-shadow .2s;
    flex-shrink: 0;
  }
  .title-map-dot.active .dot {
    background: var(--clr-primary);
    box-shadow: 0 0 0 4px var(--clr-primary);
  }
  .title-map-dot .label {
    color: var(--clr-muted);
    font-size: 1rem;
    font-weight: 500;
    transition: color .2s;
  }
  .title-map-dot.active .label {
    color: var(--clr-primary);
    font-weight: 700;
  }
  .title-map-dot .connector {
    position: absolute;
    left: 6px;
    top: 14px;
    width: 2px;
    height: 24px;
    background: var(--clr-primary);
    opacity: 0.3;
    z-index: 0;
    transition: opacity .2s, height .3s;
  }
  .title-map-dot:last-child .connector {
    display: none;
  }

  /* Cards */
  .card {
    background: var(--clr-surface);
    border: 1px solid var(--border-color);
    padding: 1.7rem 2rem 1.2rem 2rem;
    border-radius: 18px;
    box-shadow: var(--shadow-sm);
    margin-bottom: 2rem;
    position: relative;
    transition: box-shadow .15s, transform .15s;
  }
  .card:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px) scale(1.01);
  }
  .card h2 {
    font-size: 1.25rem;
    margin-bottom: .6rem;
    color: var(--clr-primary);
    font-weight: 700;
    letter-spacing: -.01em;
  }
  .card p {
    color: var(--clr-onSurf);
    margin-bottom: .8rem;
    font-size: 1.07rem;
    line-height: 1.7;
  }
  .card time {
    font-size: .93rem;
    color: var(--clr-muted);
    letter-spacing: .01em;
    font-style: italic;
    display: block;
    margin-top: .4rem;
    text-align: right;
  }

  /* Footer */
  footer {
    text-align: center;
    padding: 2rem 1rem 2.5rem;
    font-size: .93rem;
    color: var(--clr-muted);
    background: transparent;
    letter-spacing: .01em;
    border-top: 1px solid var(--border-color);
    margin-top: 2rem;
    opacity: .8;
  }

  /* Back to top button */
  #goTopBtn {
    position: fixed;
    right: 2.2rem;
    bottom: 2.2rem;
    z-index: 200;
    background: var(--clr-primary);
    color: #fff;
    border: none;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    font-size: 1.4rem;
    font-weight: 700;
    box-shadow: 0 2px 12px 0 rgba(99,102,241,.15);
    cursor: pointer;
    opacity: 0;
    pointer-events: none;
    transition: opacity .2s, transform .2s;
  }
  #goTopBtn.show {
    opacity: 1;
    pointer-events: auto;
    transform: scale(1.08);
  }
  #goTopBtn:hover {
    background: #4f46e5;
    transform: scale(1.15);
  }

  /* Animations */
  @keyframes fadeInUp {
    from { opacity:0; transform:translateY(24px);}
    to   { opacity:1; transform:none;}
  }
  @keyframes fadeInDown {
    from { opacity:0; transform:translateY(-24px);}
    to   { opacity:1; transform:none;}
  }
  @keyframes fadeInRight {
    from { opacity:0; transform:translateX(32px);}
    to   { opacity:1; transform:none;}
  }
  </style>
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <h1>ðŸ“°Â ArticleÂ Hub</h1>
    <nav>
      <a class="active" href="https://hacktek90.github.io/Postit/Admin.html">PublishÂ Yours</a>
    </nav>
  </header>

  <!-- Main layout -->
  <div class="layout">
    <main id="articleList"></main>
    <aside class="title-map" id="titleMap">
      <h2>TitleÂ Map</h2>
      <div class="title-map-list"></div>
    </aside>
  </div>

  <!-- Footer -->
  <footer>&copy;Â 2025Â ArticleÂ Hub.</footer>

  <!-- Back to top button -->
  <button id="goTopBtn" title="Go to top">â†‘ Top</button>

  <!-- Firebase & dynamic feed -->
  <script type="module">
    import { initializeApp }   from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, onValue }
      from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    const firebaseConfig = {
      apiKey:            "AIzaSyAp9kCBsDLnQEmR7wWHXwt3FB2T1zDtiqU",
      authDomain:        "h-90-8a7c5.firebaseapp.com",
      databaseURL:       "https://h-90-8a7c5-default-rtdb.firebaseio.com",
      projectId:         "h-90-8a7c5",
      storageBucket:     "h-90-8a7c5.appspot.com",
      messagingSenderId: "367196609301",
      appId:             "1:367196609301:web:156e24c1b4532c26af671c"
    };

    const app  = initializeApp(firebaseConfig);
    const db   = getDatabase(app);
    const list = document.getElementById("articleList");
    const map  = document.getElementById("titleMap");
    const mapList = map.querySelector('.title-map-list');

    /* JSONâ€‘LD script element */
    const ld = document.createElement("script");
    ld.type = "application/ld+json";
    document.head.appendChild(ld);

    let articleIds = [];

    onValue(ref(db,"articles"), snap=>{
      list.innerHTML = "";
      mapList.innerHTML = "";   // reset sidebar

      const data = snap.val() ?? {};
      const articles = Object.entries(data)
        .sort((a,b)=>(b[1].timestamp??0)-(a[1].timestamp??0));

      const itemList = {
        "@context":"https://schema.org",
        "@type":"ItemList",
        "itemListElement":[]
      };

      articleIds = [];

      articles.forEach(([key, art], i)=>{
        const id = `art-${key}`;
        articleIds.push(id);

        /* Card */
        const card = document.createElement("article");
        card.className="card";
        card.id=id;
        card.innerHTML = `
          <h2>${art.title}</h2>
          <p>${art.content}</p>
          <time>${new Date(art.timestamp).toLocaleString()}</time>
        `;
        list.appendChild(card);

        /* Sidebar dot/link */
        const dotItem = document.createElement("div");
        dotItem.className = "title-map-dot";
        dotItem.dataset.target = id;
        dotItem.innerHTML = `
          <span class="dot"></span>
          <a class="label" href="#${id}">${i+1}. ${art.title}</a>
          <span class="connector"></span>
        `;
        mapList.appendChild(dotItem);

        /* LD ItemList */
        itemList.itemListElement.push({
          "@type":"ListItem",
          "position":i+1,
          "name":art.title,
          "url":location.origin+"/#"+id
        });
      });

      ld.textContent = JSON.stringify(itemList);
    });

    // Scroll tracking for dot highlight/animation
    function updateActiveDot() {
      const articles = articleIds.map(id => document.getElementById(id));
      const dots = Array.from(document.querySelectorAll('.title-map-dot'));
      let activeIdx = 0;
      const scrollY = window.scrollY;
      const offset = 120; // adjust for navbar height

      for (let i = 0; i < articles.length; i++) {
        const rect = articles[i].getBoundingClientRect();
        if (rect.top + window.scrollY - offset <= scrollY) {
          activeIdx = i;
        }
      }
      dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === activeIdx);
        // Animate connector height if desired (optional)
        const connector = dot.querySelector('.connector');
        if (connector) {
          connector.style.height = (i < activeIdx ? '32px' : '24px');
          connector.style.opacity = (i < activeIdx ? '0.7' : '0.3');
        }
      });
    }

    window.addEventListener("scroll", updateActiveDot);
    window.addEventListener("resize", updateActiveDot);
    document.addEventListener("DOMContentLoaded", updateActiveDot);

    // Click dot scroll
    mapList.addEventListener('click', e => {
      const dot = e.target.closest('.title-map-dot');
      if (dot && dot.dataset.target) {
        const target = document.getElementById(dot.dataset.target);
        if (target) {
          window.scrollTo({ top: target.offsetTop - 80, behavior: "smooth" });
        }
      }
    });

    // Go to Top button logic
    const goTopBtn = document.getElementById("goTopBtn");
    window.addEventListener("scroll", () => {
      goTopBtn.classList.toggle("show", window.scrollY > 200);
    });
    goTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  </script>
</body>
</html>

